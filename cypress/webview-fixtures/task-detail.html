<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task Detail Test Page</title>
    <link rel="stylesheet" href="/dist/webview/styles.css" />
  </head>
  <body class="task-detail-page">
    <div id="app"></div>
    <script type="module" src="/dist/webview/task-detail.js"></script>
    <script type="module">
      // Send mock task data after component mounts
      window.addEventListener('load', () => {
        setTimeout(() => {
          window.dispatchEvent(
            new MessageEvent('message', {
              data: {
                type: 'taskData',
                data: {
                  task: {
                    id: 'TASK-1',
                    title: 'Sample Task Title',
                    status: 'In Progress',
                    priority: 'medium',
                    description: 'This is a sample task description with **markdown** formatting.',
                    labels: ['bug', 'urgent'],
                    assignee: ['@alice'],
                    milestone: 'v1.0',
                    dependencies: ['TASK-2'],
                    acceptanceCriteria: [
                      { id: 1, text: 'First acceptance criterion', checked: true },
                      { id: 2, text: 'Second acceptance criterion', checked: false },
                    ],
                    definitionOfDone: [{ id: 1, text: 'Tests pass', checked: false }],
                    filePath: '/test/backlog/tasks/task-1.md',
                  },
                  statuses: ['To Do', 'In Progress', 'Done'],
                  priorities: ['high', 'medium', 'low'],
                  uniqueLabels: ['bug', 'feature', 'urgent'],
                  uniqueAssignees: ['@alice', '@bob'],
                  milestones: ['v1.0', 'v2.0'],
                  blocksTaskIds: ['TASK-3'],
                  isBlocked: true,
                  descriptionHtml:
                    '<p>This is a sample task description with <strong>markdown</strong> formatting.</p>',
                },
              },
            })
          );
        }, 100);
      });
    </script>
  </body>
</html>
